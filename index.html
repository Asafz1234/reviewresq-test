<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ReviewResq • Private Feedback Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #e8f0ff;
      --card-bg: #ffffff;
      --accent: #0057ff;
      --accent-soft: #e0ebff;
      --accent-dark: #0137a8;
      --danger: #ff4b4b;
      --text-main: #111827;
      --text-sub: #6b7280;
      --border-soft: #d1d5db;
      --radius-lg: 24px;
      --shadow-soft: 0 18px 40px rgba(15, 23, 42, 0.18);
      --star-gold: #ffbf00;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
    }

    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at top, #f6fbff 0, #e5efff 45%, #dde7ff 100%);
      padding: 20px 12px;
      color: var(--text-main);
    }

    .card {
      width: 100%;
      max-width: 420px;
      background: var(--card-bg);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-soft);
      padding: 22px 20px 18px;
      border: 1px solid rgba(148, 163, 184, 0.25);
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 18px;
    }

    .brand-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand-icon {
      width: 40px;
      height: 40px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 20%, #ffffff 0, #0072ff 40%, #002f8f 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #ffffff;
      font-weight: 700;
      font-size: 16px;
      letter-spacing: 0.03em;
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .brand-text .name {
      font-size: 13px;
      font-weight: 700;
      letter-spacing: 0.16em;
    }

    .brand-text .subline {
      font-size: 11px;
      color: var(--text-sub);
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .brand-text .subline span.star {
      color: var(--star-gold);
      font-size: 12px;
    }

    .status-pill {
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 11px;
      background: rgba(22, 163, 74, 0.08);
      color: #047857;
      display: flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }

    .status-pill-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #22c55e;
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.35);
    }

    .title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 6px;
    }

    .subtitle {
      font-size: 13px;
      color: var(--text-sub);
      margin-bottom: 14px;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 14px;
    }

    .pill {
      font-size: 11px;
      padding: 6px 11px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      color: var(--text-sub);
      background: #f9fafb;
    }

    .tap-label {
      font-size: 12px;
      color: var(--text-sub);
      margin-bottom: 10px;
    }

    .star-row {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 8px;
    }

    .star-btn {
      width: 38px;
      height: 38px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: #f3f4ff;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.18s ease;
      font-size: 18px;
      color: #9ca3af;
    }

    .star-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 9px 18px rgba(148, 163, 184, 0.45);
    }

    .star-btn.filled {
      background: #fff7e0;
      border-color: #facc15;
      color: var(--star-gold);
      box-shadow: 0 9px 18px rgba(250, 204, 21, 0.35);
    }

    .current-rating {
      font-size: 12px;
      color: var(--text-sub);
      margin-bottom: 4px;
    }

    .link-small {
      font-size: 12px;
      color: var(--accent-dark);
      text-decoration: underline;
      cursor: pointer;
      background: none;
      border: none;
      padding: 0;
      margin-bottom: 12px;
    }

    .section {
      margin-top: 6px;
      padding-top: 10px;
      border-top: 1px dashed rgba(148, 163, 184, 0.5);
    }

    .section h2 {
      font-size: 15px;
      margin-bottom: 4px;
    }

    .section p {
      font-size: 12px;
      color: var(--text-sub);
      margin-bottom: 10px;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    textarea {
      width: 100%;
      min-height: 90px;
      resize: vertical;
      border-radius: 14px;
      border: 1px solid var(--border-soft);
      padding: 10px 11px;
      font-size: 13px;
      outline: none;
    }

    textarea:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.35);
    }

    .field-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .field-row input {
      flex: 1 1 0;
      min-width: 0;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      padding: 8px 11px;
      font-size: 13px;
      outline: none;
    }

    .field-row input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.35);
    }

    .btn-primary {
      margin-top: 4px;
      border-radius: 999px;
      border: none;
      padding: 10px 16px;
      font-size: 14px;
      font-weight: 600;
      background: linear-gradient(135deg, var(--accent), var(--accent-dark));
      color: #ffffff;
      cursor: pointer;
      box-shadow: 0 14px 30px rgba(37, 99, 235, 0.45);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 18px 40px rgba(37, 99, 235, 0.6);
    }

    .disclaimer {
      font-size: 11px;
      color: var(--text-sub);
      margin-top: 8px;
      text-align: center;
    }

    .powered {
      text-align: center;
      margin-top: 14px;
      font-size: 11px;
      color: var(--text-sub);
    }

    .powered span {
      font-weight: 600;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--accent-dark);
    }

    .hidden {
      display: none;
    }

    @media (max-width: 380px) {
      .card {
        padding: 18px 14px 16px;
      }
      .title {
        font-size: 18px;
      }
    }
  </style>
</head>
<body>
  <main class="card">
    <header class="card-header">
      <div class="brand-left">
        <div class="brand-icon">RR</div>
        <div class="brand-text">
          <div class="name">REVIEWRESQ</div>
          <div class="subline">
            Private feedback
            <span class="star">★</span>
            5★ public reviews
          </div>
        </div>
      </div>
      <div class="status-pill">
        <span class="status-pill-dot"></span>
        Feedback portal is online
      </div>
    </header>

    <section id="introSection">
      <h1 class="title">How was your experience with us?</h1>
      <p class="subtitle">
        Your feedback helps us improve and keeps our team on point.
      </p>

      <div class="pill-row">
        <span class="pill">Takes ~10 seconds</span>
        <span class="pill">No sign-in required</span>
        <span class="pill">For quality improvement</span>
      </div>
    </section>

    <section id="ratingSection">
      <p id="tapLabel" class="tap-label">Tap a rating to continue</p>
      <div id="starRow" class="star-row">
        <button class="star-btn" data-value="1" aria-label="1 star">★</button>
        <button class="star-btn" data-value="2" aria-label="2 stars">★</button>
        <button class="star-btn" data-value="3" aria-label="3 stars">★</button>
        <button class="star-btn" data-value="4" aria-label="4 stars">★</button>
        <button class="star-btn" data-value="5" aria-label="5 stars">★</button>
      </div>
    </section>

    <p id="currentRating" class="current-rating hidden">
      Current rating: <span id="currentRatingValue"></span> ★
    </p>
    <button id="changeRating" class="link-small hidden" type="button">
      Change rating
    </button>

    <!-- LOW RATINGS SECTION (1–3) -->
    <section id="lowSection" class="section hidden">
      <h2>Help us make this better</h2>
      <p>
        Something wasn’t perfect? Tell us what happened so we can fix it for
        next time. We read every response carefully.
      </p>

      <form
        id="feedbackForm"
        action="https://formspree.io/f/xkgyopoj"
        method="POST"
      >
        <textarea
          name="message"
          placeholder="Tell us what we could have done better..."
          required
        ></textarea>

        <!-- Hidden technical fields -->
        <input type="hidden" name="rating" id="ratingInput" />
        <input type="hidden" name="source" value="ReviewResq portal" />

        <div class="field-row">
          <input
            type="text"
            name="name"
            placeholder="Name (optional)"
          />
          <input
            type="email"
            name="email"
            placeholder="Email (optional)"
          />
        </div>

        <button class="btn-primary" type="submit">Send feedback</button>
      </form>

      <p class="disclaimer">
        We read every message and use it to improve.
      </p>
    </section>

    <!-- HIGH RATINGS SECTION (4–5) -->
    <section id="highSection" class="section hidden">
      <h2>Thank you for your great rating!</h2>
      <p>
        We’re happy you had a great experience. On the next step, you may be
        invited to share a public review on Google or another platform.
      </p>
      <p class="disclaimer">
        It only takes a moment and helps local customers find this business.
      </p>
    </section>

    <p class="powered">
      Powered by <span>REVIEWRESQ</span>
    </p>
  </main>

  <script>
    const starButtons = document.querySelectorAll(".star-btn");
    const ratingSection = document.getElementById("ratingSection");
    const introSection = document.getElementById("introSection");
    const lowSection = document.getElementById("lowSection");
    const highSection = document.getElementById("highSection");
    const currentRatingEl = document.getElementById("currentRating");
    const currentRatingValueEl = document.getElementById("currentRatingValue");
    const changeRatingBtn = document.getElementById("changeRating");
    const ratingInput = document.getElementById("ratingInput");

    let selectedRating = 0;

    function resetStars() {
      starButtons.forEach((btn) => btn.classList.remove("filled"));
    }

    function showInitialScreen() {
      selectedRating = 0;
      resetStars();
      ratingSection.classList.remove("hidden");
      introSection.classList.remove("hidden");
      lowSection.classList.add("hidden");
      highSection.classList.add("hidden");
      currentRatingEl.classList.add("hidden");
      changeRatingBtn.classList.add("hidden");
      currentRatingValueEl.textContent = "";
      ratingInput.value = "";
    }

    starButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        selectedRating = Number(btn.dataset.value);
        ratingInput.value = selectedRating;
        currentRatingValueEl.textContent = selectedRating;

        // מעדכנים סטייט – כוכבים נעלמים אחרי בחירה
        resetStars();
        btn.classList.add("filled");
        ratingSection.classList.add("hidden");
        introSection.classList.add("hidden");

        currentRatingEl.classList.remove("hidden");
        changeRatingBtn.classList.remove("hidden");

        // מציגים את החלק המתאים
        lowSection.classList.add("hidden");
        highSection.classList.add("hidden");

        if (selectedRating <= 3) {
          lowSection.classList.remove("hidden");
        } else {
          highSection.classList.remove("hidden");
        }
      });
    });

    changeRatingBtn.addEventListener("click", () => {
      showInitialScreen();
    });

    // מצב התחלתי
    showInitialScreen();
  </script>
</body>
</html>
